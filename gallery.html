<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>跳戏图片集 - 中国非物质文化遗产</title>
    <meta name="description" content="欣赏跳戏艺术的精彩图片，了解面具、服装和表演艺术。">
    <!-- 加载图片修复脚本 -->
    <script src="js/image-fix.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <style>
        /* 图库页面专用样式 */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }

        .gallery-img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.05);
        }

        .gallery-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 15px;
            background-color: rgba(0, 0, 0, 0.7);
            color: #fff;
            transform: translateY(100%);
            transition: transform 0.3s;
        }

        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }

        .gallery-title {
            font-size: 18px;
            margin-bottom: 5px;
        }

        .gallery-filter {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }

        .filter-btn {
            background-color: transparent;
            border: 2px solid #8c1c13;
            color: #8c1c13;
            padding: 8px 16px;
            margin: 0 8px 8px 0;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background-color: #8c1c13;
            color: #fff;
        }

        /* 灯箱效果 */
        .lightbox {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 30px;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 90%;
            max-height: 80vh;
            position: relative;
        }

        .lightbox-img {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border: 3px solid #fff;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .lightbox-caption {
            color: #fff;
            text-align: center;
            margin-top: 15px;
            font-size: 18px;
            max-width: 80%;
            margin-left: auto;
            margin-right: auto;
        }

        .lightbox-close {
            position: absolute;
            top: -40px;
            right: -40px;
            font-size: 30px;
            color: #fff;
            cursor: pointer;
            background: none;
            border: none;
        }

        .lightbox-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: #fff;
            font-size: 40px;
            cursor: pointer;
            background: none;
            border: none;
            text-shadow: 0 0 5px #000;
        }

        .lightbox-prev {
            left: -60px;
        }

        .lightbox-next {
            right: -60px;
        }

        @media (max-width: 768px) {
            .lightbox-content {
                max-width: 95%;
            }

            .lightbox-close {
                top: -30px;
                right: 0;
            }

            .lightbox-nav {
                font-size: 30px;
            }

            .lightbox-prev {
                left: -40px;
            }

            .lightbox-next {
                right: -40px;
            }
        }
    </style>
</head>

<body>
    <!-- 导航栏占位 -->
    <div id="navbar-container"></div>

    <main>
        <!-- 页面标题 -->
        <section class="container main-content">
            <h1 class="section-title">跳戏图片集</h1>
            <p style="text-align: center; margin-bottom: 30px;">欣赏精彩的跳戏艺术图片，领略非物质文化遗产的独特魅力</p>

            <!-- 筛选按钮 -->
            <div class="gallery-filter">
                <button class="filter-btn active" data-filter="all">全部</button>
                <button class="filter-btn" data-filter="mask">面具艺术</button>
                <button class="filter-btn" data-filter="costume">服饰装扮</button>
                <button class="filter-btn" data-filter="performance">表演现场</button>
                <button class="filter-btn" data-filter="backstage">幕后花絮</button>
            </div>

            <!-- 图片集 -->
            <div class="gallery-container">
                <!-- 图片1 -->
                <div class="gallery-item" data-category="mask">
                    <img src="images/gallery-1.jpg" alt="跳戏面具艺术" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">传统面具艺术</h3>
                        <p>精工细作的跳戏面具，展现了民间工艺的高超技艺</p>
                    </div>
                </div>

                <!-- 图片2 -->
                <div class="gallery-item" data-category="performance">
                    <img src="images/gallery-2.jpg" alt="跳戏表演现场" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">精彩表演现场</h3>
                        <p>艺术家在舞台上的精彩演绎，带给观众震撼的视觉体验</p>
                    </div>
                </div>

                <!-- 图片3 -->
                <div class="gallery-item" data-category="costume">
                    <img src="images/gallery-3.jpg" alt="跳戏服饰装扮" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">华丽服饰装扮</h3>
                        <p>传统手工制作的精美戏服，色彩艳丽、纹饰考究</p>
                    </div>
                </div>

                <!-- 图片4 -->
                <div class="gallery-item" data-category="backstage">
                    <img src="images/gallery-4.jpg" alt="跳戏幕后准备" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">幕后准备工作</h3>
                        <p>演员化妆、穿戴服饰的幕后花絮，展现不为人知的一面</p>
                    </div>
                </div>

                <!-- 图片5 -->
                <div class="gallery-item" data-category="mask">
                    <img src="images/gallery-5.jpg" alt="跳戏面具系列" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">角色面具系列</h3>
                        <p>不同角色的面具展示，每个面具都有其独特的性格特点</p>
                    </div>
                </div>

                <!-- 图片6 -->
                <div class="gallery-item" data-category="performance">
                    <img src="images/gallery-6.jpg" alt="跳戏群舞场景" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">群舞场景</h3>
                        <p>多位艺术家同台表演的壮观场景，展现团队合作的魅力</p>
                    </div>
                </div>

                <!-- 图片7 -->
                <div class="gallery-item" data-category="costume">
                    <img src="images/gallery-7.jpg" alt="跳戏头饰细节" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">头饰细节展示</h3>
                        <p>精致的传统头饰，每一个细节都彰显着匠人的智慧</p>
                    </div>
                </div>

                <!-- 图片8 -->
                <div class="gallery-item" data-category="backstage">
                    <img src="images/gallery-8.jpg" alt="跳戏道具制作" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">道具制作工艺</h3>
                        <p>传统工艺师傅制作表演道具的场景，传承百年工艺</p>
                    </div>
                </div>

                <!-- 图片9 -->
                <div class="gallery-item" data-category="performance">
                    <img src="images/gallery-9.jpg" alt="跳戏夜间表演" class="gallery-img">
                    <div class="gallery-caption">
                        <h3 class="gallery-title">夜间表演盛况</h3>
                        <p>在传统节日期间的夜间表演，灯光与舞台相映成辉</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 灯箱效果 -->
    <div class="lightbox">
        <div class="lightbox-content">
            <button class="lightbox-close">✕</button>
            <img src="" alt="" class="lightbox-img">
            <div class="lightbox-caption"></div>
            <button class="lightbox-nav lightbox-prev">❮</button>
            <button class="lightbox-nav lightbox-next">❯</button>
        </div>
    </div>

    <!-- 底部动画元素 -->
    <section class="animated-footer">
        <div class="color-stripe-container">
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="particle"></div>
            <div class="color-stripe"></div>
            <div class="color-stripe"></div>
            <div class="color-stripe"></div>
            <div class="color-stripe"></div>
            <div class="color-stripe"></div>
        </div>
    </section>

    <!-- 页脚占位 -->
    <div id="footer-container"></div>

    <!-- JavaScript 文件 -->
    <script src="components/navbar.js"></script>
    <script src="components/footer.js"></script>
    <script src="js/main.js"></script>
    <script src="js/debug.js"></script>
    <script>
        // 初始化导航栏和页脚
        document.addEventListener('DOMContentLoaded', function () {
            createNavbar('navbar-container', 'gallery');
            createFooter('footer-container');

            // 图库筛选功能
            const filterButtons = document.querySelectorAll('.filter-btn');
            const galleryItems = document.querySelectorAll('.gallery-item');

            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // 更新活动按钮样式
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');

                    const filterValue = button.getAttribute('data-filter');

                    galleryItems.forEach(item => {
                        if (filterValue === 'all' || item.getAttribute('data-category') === filterValue) {
                            item.style.display = 'block';
                        } else {
                            item.style.display = 'none';
                        }
                    });
                });
            });

            // 灯箱功能
            const lightbox = document.querySelector('.lightbox');
            const lightboxImg = document.querySelector('.lightbox-img');
            const lightboxCaption = document.querySelector('.lightbox-caption');
            const lightboxClose = document.querySelector('.lightbox-close');
            const lightboxPrev = document.querySelector('.lightbox-prev');
            const lightboxNext = document.querySelector('.lightbox-next');

            let currentIndex = 0;
            const galleryImages = document.querySelectorAll('.gallery-img');

            galleryItems.forEach((item, index) => {
                item.addEventListener('click', () => {
                    currentIndex = index;
                    const img = item.querySelector('.gallery-img');
                    const caption = item.querySelector('.gallery-caption').innerHTML;

                    lightboxImg.src = img.src;
                    lightboxImg.alt = img.alt;
                    lightboxCaption.innerHTML = caption;
                    lightbox.classList.add('active');
                });
            });

            // 关闭灯箱
            lightboxClose.addEventListener('click', () => {
                lightbox.classList.remove('active');
            });

            // 点击灯箱背景关闭
            lightbox.addEventListener('click', (e) => {
                if (e.target === lightbox) {
                    lightbox.classList.remove('active');
                }
            });

            // 上一张图片
            lightboxPrev.addEventListener('click', () => {
                currentIndex--;
                if (currentIndex < 0) {
                    currentIndex = galleryItems.length - 1;
                }
                updateLightbox();
            });

            // 下一张图片
            lightboxNext.addEventListener('click', () => {
                currentIndex++;
                if (currentIndex >= galleryItems.length) {
                    currentIndex = 0;
                }
                updateLightbox();
            });

            // 更新灯箱内容
            function updateLightbox() {
                const item = galleryItems[currentIndex];
                const img = item.querySelector('.gallery-img');
                const caption = item.querySelector('.gallery-caption').innerHTML;

                lightboxImg.src = img.src;
                lightboxImg.alt = img.alt;
                lightboxCaption.innerHTML = caption;
            }

            // 键盘控制
            document.addEventListener('keydown', (e) => {
                if (!lightbox.classList.contains('active')) return;

                if (e.key === 'Escape') {
                    lightbox.classList.remove('active');
                } else if (e.key === 'ArrowLeft') {
                    lightboxPrev.click();
                } else if (e.key === 'ArrowRight') {
                    lightboxNext.click();
                }
            });
        });
    </script>
</body>

</html>